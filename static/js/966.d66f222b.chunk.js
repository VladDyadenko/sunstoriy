"use strict";(self.webpackChunksunstoriy=self.webpackChunksunstoriy||[]).push([[966],{1966:function(n,e,t){t.r(e),t.d(e,{default:function(){return ln}});var r,a,i,o,l,d,s,c,p,h,u,x,m,f,g,b=t(4165),v=t(5861),w=t(9439),Z=t(5705),j=t(2791),y=t(8307),P=t(9434),k=t(7689),S=t(168),R=t(9256),F=(0,R.ZP)(Z.l0)(r||(r=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 25px 15px 40px 15px;\n  width: 375px;\n\n  @media (min-width: 768px) {\n    width: 768px;\n  }\n  @media (min-width: 1280px) {\n    width: 1280px;\n  }\n  @media (min-width: 1440px) {\n    width: 1440px;\n  }\n"]))),z=R.ZP.div(a||(a=(0,S.Z)(["\n  display: flex;\n  width: 100%;\n  gap: 10px;\n  margin: 20px 0;\n\n  @media (min-width: 768px) {\n    gap: 30px;\n  }\n"]))),D=R.ZP.p(i||(i=(0,S.Z)(["\n  color: red;\n"]))),C=(0,R.ZP)(Z.gN)(o||(o=(0,S.Z)(["\n  width: 100%;\n  height: 40px;\n  max-width: 600px;\n\n  padding: 12px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n\n  &:focus-visible {\n    border: solid 2px var(--main-green);\n  }\n"]))),N=R.ZP.div(l||(l=(0,S.Z)(["\n  padding: 10px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  justify-content: space-between;\n  width: 100%;\n  gap: 20px;\n"]))),I=R.ZP.button(d||(d=(0,S.Z)(["\n  border-radius: 4px;\n  margin: 0 auto;\n  width: 200px;\n  background-color: var(--bg-main-color);\n  color: var(--header-main-color);\n  border-radius: 8px;\n  border: 1px solid transparent;\n  padding: 10px 10px;\n  font-family: 'RobotoSlab';\n  font-weight: 400;\n  font-size: 18px;\n  cursor: pointer;\n  transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out,\n    border-color 0.3s ease-in-out;\n\n  &:hover,\n  &:focus {\n    background-color: var(--main-green);\n    border-color: var(--header-main-color);\n  }\n"]))),_=((0,R.ZP)(Z.gN)(s||(s=(0,S.Z)(["\n  height: 40px;\n  max-width: 300px;\n  padding: 12px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n\n  &:focus-visible {\n    border: solid 2px var(--main-green);\n  }\n"]))),R.ZP.div(c||(c=(0,S.Z)(["\n  height: 40px;\n  max-width: 100px;\n  padding: 5px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 18px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n  margin-left: 10px;\n  @media (min-width: 768px) {\n    margin-left: 0;\n  }\n"])))),V=R.ZP.div(p||(p=(0,S.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: start;\n  width: 100%;\n  max-width: 600px;\n"]))),O=R.ZP.span(h||(h=(0,S.Z)(["\n  display: none;\n  margin-left: 25px;\n  margin-right: 5px;\n  font-family: 'RobotoSlab';\n  font-weight: 400;\n  font-size: 18px;\n  color: #2a2a2a;\n\n  @media (min-width: 768px) {\n    display: block;\n  }\n"]))),Y=(0,R.ZP)(Z.gN)(u||(u=(0,S.Z)(["\n  width: 100%;\n  padding: 12px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n  margin-bottom: 20px;\n\n  &:focus-visible {\n    border: solid 2px var(--main-green);\n  }\n"]))),E=R.ZP.label(x||(x=(0,S.Z)(["\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 18px;\n  color: var(--main-green);\n  margin-bottom: 5px;\n  margin-top: 15px;\n  text-align: center;\n\n  @media (min-width: 768px) {\n    text-align: start;\n  }\n"]))),U=(0,R.ZP)(Z.gN)(m||(m=(0,S.Z)(["\n  height: 40px;\n  width: 100%;\n  padding: 12px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n\n  &:focus-visible {\n    border: solid 2px var(--main-green);\n  }\n\n  @media (min-width: 768px) {\n    max-width: 285px;\n    flex: 1;\n  }\n"]))),L=R.ZP.label(f||(f=(0,S.Z)(["\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  color: var(--main-green);\n\n  @media (min-width: 768px) {\n    width: 110px;\n  }\n"]))),M=R.ZP.div(g||(g=(0,S.Z)(["\n  padding: 5px 0;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  justify-content: start;\n  gap: 20px;\n\n  @media (min-width: 768px) {\n    flex-direction: row;\n    padding: 15px 0;\n    gap: 30px;\n  }\n"]))),q=t(184);var A=function(n){var e=n.title,t=n.touched,r=n.errors,a=n.inputName,i=n.inputPhone;return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(M,{children:[(0,q.jsxs)(L,{children:[e," \u0434\u0438\u0442\u0438\u043d\u0438:"]}),(0,q.jsxs)("div",{children:[(0,q.jsx)(U,{name:a,type:"text",placeholder:"\u0406\u043c'\u044f"}),t[a]&&r[a]&&(0,q.jsx)(D,{children:r[a]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)(U,{name:i,type:"tel",placeholder:"380........"}),t[i]&&r[i]&&(0,q.jsx)(D,{children:r[i]})]})]})})},B=t(6727),H={name:"",surname:"",birthDate:"",age:"",childImage:"",mather:"",matherPhone:"",father:"",fatherPhone:"",about:"",sensornaya:"",logoped:"",correction:"",tutor:"",rehabilitation:"",childFiles:""},$=B.Ry().shape({name:B.Z_().required("\u0406\u043c'\u044f \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435!").min(2,"\u0417\u0430\u043a\u043e\u0440\u043e\u0442\u043a\u0435!").max(40,"\u0417\u0430\u0434\u043e\u0432\u0433\u0435!"),surname:B.Z_().min(2,"\u0417\u0430\u043a\u043e\u0440\u043e\u0442\u043a\u0435!").max(40,"\u0417\u0430\u0434\u043e\u0432\u0433\u0435!"),mather:B.Z_().min(2,"\u0417\u0430\u043a\u043e\u0440\u043e\u0442\u043a\u0435!").max(40,"\u0417\u0430\u0434\u043e\u0432\u0433\u0435!"),matherPhone:B.Z_().required("\u041d\u043e\u043c\u0435\u0440 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u0439!").matches(/^\d{12}$/,"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u0440\u0456\u0432\u043d\u043e 12 \u0446\u0438\u0444\u0440!"),father:B.Z_().min(2,"\u0417\u0430\u043a\u043e\u0440\u043e\u0442\u043a\u0435!").max(40,"\u0417\u0430\u0434\u043e\u0432\u0433\u0435!"),fatherPhone:B.Z_()}),J=t(4494),Q=t(7438),T=t(2438),G=t(2648),K=t(7199),W=t(7892),X=t.n(W),nn=function(n){var e=n.setFieldValue,t=n.valueBirthDate,r=(0,j.useState)(X()()),a=(0,w.Z)(r,2),i=a[0],o=a[1];return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(G.Z,{size:"middle",locale:K.Z,format:"DD/MM/YYYY",value:t?X()(t):X()(i),onChange:function(n,t){o(null===n||void 0===n?void 0:n.valueOf()),e("birthDate",null===n||void 0===n?void 0:n.valueOf());var r=X()(),a=X()(null===n||void 0===n?void 0:n.valueOf()),i=r.diff(a,"year");e("age",i)}})})};var en=function(n){var e=n.child,t=(0,j.useState)(H),r=(0,w.Z)(t,2),a=r[0],i=r[1],o=(0,j.useState)(""),l=(0,w.Z)(o,2),d=l[0],s=l[1],c=(0,j.useState)(!0),p=(0,w.Z)(c,2),h=p[0],u=p[1],x=(0,k.TH)(),m=(0,P.v9)(T.t3),f=new URLSearchParams(x.search).get("source");(0,j.useEffect)((function(){"buttonViewing"===f&&u(!1)}),[f]);var g=(0,k.s0)(),b=(0,P.I0)();return(0,j.useEffect)((function(){if(e){var n={name:e.name?e.name:"",surname:e.surname?e.surname:"",birthDate:e.birthDate?e.birthDate:"",age:e.age?e.age:"",childImage:e.childImage?e.childImage:"",mather:e.mather?e.mather:"",matherPhone:e.matherPhone?e.matherPhone:"",father:e.father?e.father:"",fatherPhone:e.fatherPhone?e.fatherPhone:"",about:e.about?e.about:"",sensornaya:e.sensornaya?e.sensornaya:"",logoped:e.logoped?e.logoped:"",correction:e.correction?e.correction:"",tutor:e.tutor?e.tutor:"",reabilitation:e.reabilitation?e.reabilitation:"",childFiles:e.childFiles?e.childFiles:""};i(n),s(n.childImage)}}),[e]),(0,q.jsx)(Z.J9,{enableReinitialize:!0,initialValues:a,validationSchema:$,onSubmit:function(n){if(h)if(e){var t={id:e._id,values:n};b((0,J.QH)(t)).then((function(){g("/children")}))}else b((0,J.U_)(n)).then((function(){g("/lesson"===f?-1:"/children")}));else g(-1)},children:function(n){var e=n.errors,t=n.touched,r=n.values,a=n.setFieldValue;return(0,q.jsxs)(F,{children:[(0,q.jsxs)(z,{children:[(0,q.jsx)(Q.Z,{avatar:d,fileName:"childImage",setFieldValue:a}),(0,q.jsxs)(N,{children:[(0,q.jsx)(C,{name:"name",type:"text",placeholder:"\u0406\u043c'\u044f"}),t.name&&e.name&&(0,q.jsx)(D,{children:e.name}),(0,q.jsx)(C,{name:"surname",type:"text",placeholder:"\u0424\u0430\u043c\u0456\u043b\u0456\u044f"}),e.surname&&(0,q.jsx)(D,{children:e.surname}),(0,q.jsxs)(V,{children:[(0,q.jsx)(nn,{valueBirthDate:r.birthDate,setFieldValue:a}),(0,q.jsx)(O,{children:"\u0420\u043e\u043a\u0456\u0432:"}),(0,q.jsx)(_,{children:r.age})]})]})]}),(0,q.jsx)(A,{title:"\u041c\u0430\u043c\u0430",inputName:"mather",inputPhone:"matherPhone",touched:t,errors:e}),(0,q.jsx)(A,{title:"\u0411\u0430\u0442\u044c\u043a\u043e",inputName:"father",inputPhone:"fatherPhone",touched:t,errors:e}),(0,q.jsx)(E,{children:"\u0417\u0430\u043f\u0438\u0442 \u0431\u0430\u0442\u044c\u043a\u0456\u0432:"}),(0,q.jsx)(Y,{name:"about",component:"textarea",rows:6}),(0,q.jsx)(E,{children:"\u0421\u0435\u043d\u0441\u043e\u0440\u043d\u0430:"}),(0,q.jsx)(Y,{name:"sensornaya",component:"textarea",rows:6}),(0,q.jsx)(E,{children:"\u041b\u043e\u0433\u043e\u043f\u0435\u0434:"}),(0,q.jsx)(Y,{name:"logoped",component:"textarea",rows:6}),(0,q.jsx)(E,{children:"\u041a\u043e\u0440\u0435\u043a\u0446\u0456\u0439\u043d\u0438\u0439 \u043f\u0435\u0434\u0430\u0433\u043e\u0433:"}),(0,q.jsx)(Y,{name:"correction",component:"textarea",rows:6}),(0,q.jsx)(E,{children:"\u041f\u0456\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0434\u043e \u0448\u043a\u043e\u043b\u0438:"}),(0,q.jsx)(Y,{name:"tutor",component:"textarea",rows:6}),(0,q.jsx)(E,{children:"\u0420\u0435\u0430\u0431\u0456\u043b\u0456\u0442\u043e\u043b\u043e\u0433:"}),(0,q.jsx)(Y,{name:"reabilitation",component:"textarea",rows:6}),(0,q.jsx)(I,{type:"submit",children:"updateChild"===m||"addChild"===m?(0,q.jsx)(y.yk,{height:"21",width:"50",color:"#ffffff",wrapperStyle:{display:"flex",alignItems:"center",justifyContent:"center"},visible:!0,ariaLabel:"circles-with-bar-loading"}):h?"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438":"\u041d\u0430\u0437\u0430\u0434"})]})}})},tn=t(1686),rn=t(1243),an=function(){var n=(0,v.Z)((0,b.Z)().mark((function n(e){var t,r;return(0,b.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,rn.Z.get("/child/children/".concat(e));case 3:return t=n.sent,r=t.data,n.abrupt("return",r);case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}(),on=new AbortController;var ln=function(){var n=(0,k.UO)().childId,e=(0,j.useState)(""),t=(0,w.Z)(e,2),r=t[0],a=t[1];return(0,j.useEffect)((function(){if(n)return function(){e.apply(this,arguments)}(),function(){on.abort()};function e(){return(e=(0,v.Z)((0,b.Z)().mark((function e(){var t;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Component mounted"),e.next=4,an(n);case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return");case 7:a(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),tn.Notify.failure("Child not found");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}}),[n]),(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(en,{child:r})})}},2438:function(n,e,t){t.d(e,{OD:function(){return a},aM:function(){return r},gr:function(){return o},t3:function(){return i}});var r=function(n){return n.children.child},a=function(n){return n.children.pagination},i=function(n){return n.children.operetion},o=function(n){return n.children.marker}},7438:function(n,e,t){t.d(e,{Z:function(){return v}});var r,a,i,o,l,d=t(9439),s=t(2791),c=t(168),p=t(9256),h=t(9126),u=p.ZP.div(r||(r=(0,c.Z)(["\n  width: 110px;\n  height: 110px;\n  background-color: #c0c0c0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n"]))),x=p.ZP.button(a||(a=(0,c.Z)(["\n  border-radius: 4px;\n  background-color: var(--main-dark-blue);\n  color: var(--header-main-color);\n  border-radius: 8px;\n  border: 1px solid transparent;\n  padding: 5px 10px;\n  font-family: 'RobotoSlab';\n  font-weight: 400;\n  font-size: 13px;\n  cursor: pointer;\n  transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out,\n    border-color 0.3s ease-in-out;\n\n  &:hover,\n  &:focus {\n    background-color: var(--main-green);\n    border-color: var(--header-main-color);\n  }\n"]))),m=p.ZP.div(i||(i=(0,c.Z)(["\n  padding: 10px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n"]))),f=p.ZP.img(o||(o=(0,c.Z)(["\n  display: block;\n  border-radius: 4px;\n"]))),g=(0,p.ZP)(h.sY$)(l||(l=(0,c.Z)(["\n  width: 30px;\n  height: 30px;\n  fill: #808080;\n"]))),b=t(184);var v=function(n){var e=n.setFieldValue,t=n.avatar,r=n.fileName,a=(0,s.useRef)(null),i=(0,s.useState)(t),o=(0,d.Z)(i,2),l=o[0],c=o[1];return(0,s.useEffect)((function(){c(t)}),[t]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"file",hidden:!0,ref:a,onChange:function(n){var t=n.target.files[0];e("".concat(r),t);var a=new FileReader;a.readAsDataURL(t),a.onload=function(){c(a.result)}}}),(0,b.jsxs)(m,{children:[l?(0,b.jsx)(f,{src:l,alt:"preview",width:130,height:110}):(0,b.jsx)(u,{children:(0,b.jsx)(g,{})}),(0,b.jsx)(x,{type:"button",onClick:function(){a.current.click()},children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0444\u043e\u0442\u043e"})]})]})}}}]);
//# sourceMappingURL=966.d66f222b.chunk.js.map