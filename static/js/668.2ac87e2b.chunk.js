"use strict";(self.webpackChunksunstoriy=self.webpackChunksunstoriy||[]).push([[668],{9559:function(e,n,r){r.d(n,{Z:function(){return G}});var t,i,s,a,l,o=r(2791),d=r(168),c=r(9256),x=c.ZP.div(t||(t=(0,d.Z)(["\n  width: 100%;\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* border: 2px solid var(--main-yellow); */\n  border-radius: 8px;\n  gap: 20px;\n  margin-bottom: 8px;\n\n  /* @media (min-width: 768px) {\n    flex-direction: row;\n    justify-content: space-between;\n  } */\n"]))),u=c.ZP.div(i||(i=(0,d.Z)(["\n  width: 100%;\n  max-width: 80%;\n  height: 100vh;\n  padding: 10px;\n  border: 2px solid var(--main-dark-blue);\n"]))),h=r(4165),p=r(5861),m=r(9439),g=r(2648),j=r(6355),f=r(9126),Z=r(7309),v=r(283),y=c.ZP.p(s||(s=(0,d.Z)(["\n  text-align: center;\n  width: 100%;\n  text-align: center;\n  font-family: 'Roboto';\n  font-size: 20px;\n  font-weight: 400;\n  padding-bottom: 5px;\n\n  border-bottom: 2px solid var(--main-green);\n"]))),b=c.ZP.div(a||(a=(0,d.Z)(["\n  width: 100%;\n  max-width: 20%;\n  height: 100vh;\n  /* border: 2px solid var(--main-green); */\n  padding: 10px;\n"]))),w=(0,c.ZP)(Z.ZP)(l||(l=(0,d.Z)(["\n  ","\n  background-color: var(--main-green);\n  &:hover {\n    background-color: var(--bg-main-color);\n  }\n\n  &:disabled {\n    background-color: var(--main-disabled);\n    color: var(--header-main-color);\n  }\n  & span {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n  }\n  & svg {\n    width: 18px;\n    height: 18px;\n  }\n"])),v.G),k=r(7892),F=r.n(k),D=r(9106),C=r(8920),T=r(5715),I=r(8597),P=r(4424),E=r(2996),S=r(4086),U=r(3775),O=r(9434),q=r(4673),H=r(184),R=function(e){var n=e.open,r=e.onCloseDrawerExpense,t=(0,S.Z)(),i=(0,m.Z)(t,1)[0],s=(0,o.useState)(null),a=(0,m.Z)(s,2),l=a[0],d=a[1],c=(0,O.I0)();return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(D.Z,{title:"\u041f\u043e\u0442\u043e\u0447\u043d\u0456 \u0432\u0438\u0442\u0440\u0430\u0442\u0438",placement:"right",width:340,onClose:r,open:n,children:(0,H.jsxs)(C.Z,{form:i,initialValues:{date:null,category:"salary",amount:null,paymentForm:"cash",bank:"",description:""},onFinish:function(){var e=(0,p.Z)((0,h.Z)().mark((function e(n){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"cash"===n.paymentForm&&(n.bank=""),n.date=(new Date).toISOString().split("T")[0],e.next=4,c((0,q.a)(n)).then((function(){r()}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:[(0,H.jsx)(C.Z.Item,{}),(0,H.jsx)(C.Z.Item,{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f \u0432\u0438\u0442\u0440\u0430\u0442",name:"category",rules:[{required:!0,message:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e"}],children:(0,H.jsx)(T.Z,{children:U.Y9.map((function(e){return(0,H.jsx)(T.Z.Option,{value:e.category,children:e.title},e.category)}))})}),(0,H.jsx)(C.Z.Item,{rules:[{required:!0,message:"\u0412\u043d\u0435\u0441\u0456\u0442\u044c \u0441\u0443\u043c\u0443 \u0432\u0438\u0442\u0440\u0430\u0442"}],label:"\u0421\u0443\u043c\u0430",name:"amount",children:(0,H.jsx)(I.Z,{style:{width:"100%"},placeholder:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0443\u043c\u0443"})}),(0,H.jsx)(C.Z.Item,{label:"\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u0438",name:"paymentForm",onChange:function(e){"cash"===e.target.value&&i.setFieldsValue({bank:""})},children:(0,H.jsxs)(P.ZP.Group,{onChange:function(e){d(e.target.value),"cashless"!==e.target.value&&(i.setFieldsValue({bank:void 0}),i.resetFields(["bank","sum"]))},children:[(0,H.jsx)(P.ZP,{value:"cash",children:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430"}),(0,H.jsx)(P.ZP,{value:"cashless",children:"\u0411\u0435\u0437\u0433\u043e\u0442\u0456\u0432\u043a\u043e\u0432\u0430"})]})}),(0,H.jsx)(C.Z.Item,{rules:"cashless"===l&&[{required:!0,message:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0431\u0430\u043d\u043a"}],label:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0431\u0430\u043d\u043a",name:"bank",style:{width:250},children:(0,H.jsxs)(T.Z,{children:[(0,H.jsx)(T.Z.Option,{value:"PrivatBank",children:"\u041f\u0440\u0438\u0432\u0430\u0442\u0411\u0430\u043d\u043a"}),(0,H.jsx)(T.Z.Option,{value:"MonoBank",children:"\u041c\u043e\u043d\u043e\u0431\u0430\u043d\u043a"})]})}),(0,H.jsx)(C.Z.Item,{label:"\u041e\u043f\u0438\u0441 \u0432\u0438\u0442\u0440\u0430\u0442",name:"description",children:(0,H.jsx)(E.Z.TextArea,{placeholder:"\u0417\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u044e \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u043e\u043f\u0438\u0441",autoSize:{minRows:1,maxRows:5}})}),(0,H.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",gap:8},children:[(0,H.jsx)(Z.ZP,{style:{width:"100%"},type:"primary",onClick:r,htmlType:"button",children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"}),(0,H.jsx)(Z.ZP,{style:{width:"100%"},type:"primary",htmlType:"submit",children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})]})]})})})},V=r(1243),z=function(){var e=(0,p.Z)((0,h.Z)().mark((function e(n){var r,t;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.Z.get("/zvit/one_month_total",{params:n});case 3:return r=e.sent,t=r.data,console.log("choesData:",n),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.error("\u274c Error:",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),M=g.Z.RangePicker,Y=function(){var e=F()(),n=(0,o.useState)("oneDay"),r=(0,m.Z)(n,2),t=r[0],i=r[1],s=(0,o.useState)(null),a=(0,m.Z)(s,2),l=a[0],d=a[1],c=(0,o.useState)(!1),x=(0,m.Z)(c,2),u=x[0],g=x[1];var Z=function(){var e=(0,p.Z)((0,h.Z)().mark((function e(n){var r,t;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,z(n);case 5:r=e.sent,t=r.totalData,console.log("\u2705 totalProfit:",t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("\u274c Error fetching total profit:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)(b,{children:[(0,H.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:10},children:[(0,H.jsx)(y,{children:"\u0424\u0456\u043d\u0430\u043d\u0441\u043e\u0432\u0456 \u043f\u043e\u043a\u0430\u0437\u043d\u0438\u043a\u0438:"}),(0,H.jsx)(M,{defaultValue:[e,e],onChange:function(e,n){if(e&&0!==e.length){var r=new Date(e[0].toDate()),t=new Date(e[1].toDate());r.setUTCHours(0,0,0,0),t.setUTCHours(23,59,59,999);var s=r.getUTCFullYear()===t.getUTCFullYear()&&r.getUTCMonth()===t.getUTCMonth()&&r.getUTCDate()===t.getUTCDate(),a={startDate:r.toISOString(),endDate:t.toISOString()};d(a),i(s?"oneDay":"period")}}}),(0,H.jsx)(w,{onClick:function(){return Z(l)},disabled:"period"===t,children:"period"===t?(0,H.jsxs)(H.Fragment,{children:["\u0414\u043e\u0445\u043e\u0434\u0438 \u0437\u0430 \u0434\u0435\u043d\u044c ",(0,H.jsx)(j.iE3,{})]}):(0,H.jsxs)(H.Fragment,{children:["\u0414\u043e\u0445\u043e\u0434\u0438 \u0437\u0430 \u0434\u0435\u043d\u044c ",(0,H.jsx)(f.U2w,{})]})}),(0,H.jsx)(w,{disabled:"period"===t,children:"period"===t?(0,H.jsxs)(H.Fragment,{children:["\u0417\u0432\u0456\u0442 \u0437\u0430 \u0434\u0435\u043d\u044c ",(0,H.jsx)(j.iE3,{})]}):(0,H.jsxs)(H.Fragment,{children:["\u0417\u0432\u0456\u0442 \u0437\u0430 \u0434\u0435\u043d\u044c ",(0,H.jsx)(f.lqg,{})]})}),(0,H.jsx)(w,{onClick:function(){return Z(l)},disabled:"oneDay"===t,children:"period"===t?(0,H.jsxs)(H.Fragment,{children:["\u0414\u043e\u0445\u043e\u0434\u0438 \u0437\u0430 \u043f\u0435\u0440\u0456\u043e\u0434 ",(0,H.jsx)(f.U2w,{})]}):(0,H.jsxs)(H.Fragment,{children:["\u0414\u043e\u0445\u043e\u0434\u0438 \u0437\u0430 \u043f\u0435\u0440\u0456\u043e\u0434 ",(0,H.jsx)(j.iE3,{})]})}),(0,H.jsx)(w,{disabled:"oneDay"===t,children:"period"===t?(0,H.jsxs)(H.Fragment,{children:["\u0417\u0432\u0456\u0442 \u0437\u0430 \u043f\u0435\u0440\u0456\u043e\u0434 ",(0,H.jsx)(f.lqg,{})]}):(0,H.jsxs)(H.Fragment,{children:["\u0417\u0432\u0456\u0442 \u0437\u0430 \u043f\u0435\u0440\u0456\u043e\u0434",(0,H.jsx)(j.iE3,{})]})})]}),(0,H.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:10,marginTop:35},children:[(0,H.jsx)(y,{children:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430 \u0432\u0447\u0438\u0442\u0435\u043b\u0456\u0432:"}),(0,H.jsx)(w,{disabled:"period"===t,children:"period"===t?(0,H.jsx)(j.iE3,{}):(0,H.jsxs)(H.Fragment,{children:["\u0414\u0435\u043d\u044c ",(0,H.jsx)(f.dTH,{})]})}),(0,H.jsx)(w,{disabled:"oneDay"===t,children:"period"===t?(0,H.jsxs)(H.Fragment,{children:["\u041f\u0435\u0440\u0456\u043e\u0434 ",(0,H.jsx)(f.dTH,{})]}):(0,H.jsxs)(H.Fragment,{children:["\u041f\u0435\u0440\u0456\u043e\u0434 ",(0,H.jsx)(j.iE3,{})]})})]}),(0,H.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:10,marginTop:35},children:[(0,H.jsx)(y,{children:"\u0406\u043d\u0448\u0456 \u043f\u043b\u0430\u0442\u0435\u0436\u0438:"}),(0,H.jsx)(w,{onClick:function(){return g(!0)},disabled:"period"===t,children:"period"===t?(0,H.jsxs)(H.Fragment,{children:["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0435\u043d\u044c ",(0,H.jsx)(j.iE3,{})]}):(0,H.jsxs)(H.Fragment,{children:["\u0414\u043e\u0434\u0430\u0439 \u0432\u0438\u0442\u0440\u0430\u0442\u0438 ",(0,H.jsx)(f.j4y,{})]})}),(0,H.jsx)(w,{htmlType:"button",disabled:"period"===t,children:"period"===t?(0,H.jsxs)(H.Fragment,{children:["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0435\u043d\u044c ",(0,H.jsx)(j.iE3,{})]}):(0,H.jsxs)(H.Fragment,{children:["\u0412\u043d\u0435\u0441\u0438 \u0434\u043e\u0445\u0456\u0434 ",(0,H.jsx)(f.dTH,{})]})}),(0,H.jsx)(R,{onCloseDrawerExpense:function(){g(!1)},open:u})]})]})})},B=r(7095),G=function(){return(0,H.jsx)(B.Z,{children:(0,H.jsxs)(x,{children:[(0,H.jsx)(Y,{}),(0,H.jsx)(u,{children:"\u041a\u043e\u043d\u0442\u0435\u043d\u0442"})]})})}},5668:function(e,n,r){r.r(n);var t=r(9559),i=(r(2791),r(184));n.default=function(){return(0,i.jsx)(t.Z,{styled:{width:"100%"}})}}}]);
//# sourceMappingURL=668.2ac87e2b.chunk.js.map