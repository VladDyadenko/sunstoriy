"use strict";(self.webpackChunksunstoriy=self.webpackChunksunstoriy||[]).push([[629],{4695:function(e,n,r){r.d(n,{Z:function(){return K}});var t,i,a,s,l,o,c,d=r(2791),x=r(168),u=r(9256),h=u.ZP.div(t||(t=(0,x.Z)(["\n  width: 100%;\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* border: 2px solid var(--main-yellow); */\n  border-radius: 8px;\n  gap: 20px;\n  margin-bottom: 8px;\n\n  /* @media (min-width: 768px) {\n    flex-direction: row;\n    justify-content: space-between;\n  } */\n"]))),p=u.ZP.div(i||(i=(0,x.Z)(["\n  width: 100%;\n  max-width: 80%;\n  height: 100vh;\n  padding: 10px;\n  border: 2px solid var(--main-dark-blue);\n"]))),m=r(4165),g=r(5861),j=r(9439),f=r(2648),Z=r(6355),v=r(9126),b=r(7309),y=r(283),w=u.ZP.p(a||(a=(0,x.Z)(["\n  text-align: center;\n  width: 100%;\n  text-align: center;\n  font-family: 'Roboto';\n  font-size: 20px;\n  font-weight: 400;\n  padding-bottom: 5px;\n\n  border-bottom: 2px solid var(--main-green);\n"]))),F=u.ZP.div(s||(s=(0,x.Z)(["\n  width: 100%;\n  max-width: 20%;\n  height: 100vh;\n  /* border: 2px solid var(--main-green); */\n  padding: 10px;\n"]))),k=(0,u.ZP)(b.ZP)(l||(l=(0,x.Z)(["\n  ","\n  background-color: var(--main-green);\n  &:hover {\n    background-color: var(--bg-main-color);\n  }\n\n  &:disabled {\n    background-color: var(--main-disabled);\n    color: var(--header-main-color);\n  }\n  & span {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n  }\n  & svg {\n    width: 18px;\n    height: 18px;\n  }\n"])),y.G),D=r(7892),C=r.n(D),P=r(9106),T=r(8920),I=r(5715),S=r(8597),E=r(4424),U=r(2996),O=r(4086),q=r(3775),H=r(9434),R=r(4673),z=u.ZP.p(o||(o=(0,x.Z)(["\n  margin-bottom: 20px;\n  text-align: center;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 14px;\n"]))),V=u.ZP.p(c||(c=(0,x.Z)(["\n  color: var(--main-green);\n"]))),M=r(184),Y=function(e){var n=e.selectedPeriod,r=e.open,t=e.onCloseDrawerExpense,i=(0,O.Z)(),a=(0,j.Z)(i,1)[0],s=(0,d.useState)(null),l=(0,j.Z)(s,2),o=l[0],c=l[1],x=(0,H.I0)();return(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(P.Z,{title:"\u041f\u043e\u0442\u043e\u0447\u043d\u0456 \u0432\u0438\u0442\u0440\u0430\u0442\u0438",placement:"right",width:340,onClose:t,open:r,children:(0,M.jsxs)(T.Z,{form:a,initialValues:{date:null,category:"salary",amount:null,paymentForm:"cash",bank:"",description:""},onFinish:function(){var e=(0,g.Z)((0,m.Z)().mark((function e(r){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"cash"===r.paymentForm&&(r.bank=""),r.date=n,e.next=4,x((0,R.a)(r)).then((function(){t()}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:[(0,M.jsxs)(z,{children:["\u0414\u0430\u0442\u0430 \u0432\u0438\u0442\u0440\u0430\u0442: ",(0,M.jsx)(V,{children:n})]}),(0,M.jsx)(T.Z.Item,{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f \u0432\u0438\u0442\u0440\u0430\u0442",name:"category",rules:[{required:!0,message:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e"}],children:(0,M.jsx)(I.Z,{children:q.Y9.map((function(e){return(0,M.jsx)(I.Z.Option,{value:e.category,children:e.title},e.category)}))})}),(0,M.jsx)(T.Z.Item,{rules:[{required:!0,message:"\u0412\u043d\u0435\u0441\u0456\u0442\u044c \u0441\u0443\u043c\u0443 \u0432\u0438\u0442\u0440\u0430\u0442"}],label:"\u0421\u0443\u043c\u0430",name:"amount",children:(0,M.jsx)(S.Z,{style:{width:"100%"},placeholder:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0443\u043c\u0443"})}),(0,M.jsx)(T.Z.Item,{label:"\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u0438",name:"paymentForm",onChange:function(e){"cash"===e.target.value&&a.setFieldsValue({bank:""})},children:(0,M.jsxs)(E.ZP.Group,{onChange:function(e){c(e.target.value),"cashless"!==e.target.value&&(a.setFieldsValue({bank:void 0}),a.resetFields(["bank","sum"]))},children:[(0,M.jsx)(E.ZP,{value:"cash",children:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430"}),(0,M.jsx)(E.ZP,{value:"cashless",children:"\u0411\u0435\u0437\u0433\u043e\u0442\u0456\u0432\u043a\u043e\u0432\u0430"})]})}),(0,M.jsx)(T.Z.Item,{rules:"cashless"===o&&[{required:!0,message:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0431\u0430\u043d\u043a"}],label:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0431\u0430\u043d\u043a",name:"bank",style:{width:250},children:(0,M.jsxs)(I.Z,{children:[(0,M.jsx)(I.Z.Option,{value:"PrivatBank",children:"\u041f\u0440\u0438\u0432\u0430\u0442\u0411\u0430\u043d\u043a"}),(0,M.jsx)(I.Z.Option,{value:"MonoBank",children:"\u041c\u043e\u043d\u043e\u0431\u0430\u043d\u043a"})]})}),(0,M.jsx)(T.Z.Item,{label:"\u041e\u043f\u0438\u0441 \u0432\u0438\u0442\u0440\u0430\u0442",name:"description",children:(0,M.jsx)(U.Z.TextArea,{placeholder:"\u0417\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u044e \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u043e\u043f\u0438\u0441",autoSize:{minRows:1,maxRows:5}})}),(0,M.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",gap:8},children:[(0,M.jsx)(b.ZP,{style:{width:"100%"},type:"primary",onClick:t,htmlType:"button",children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"}),(0,M.jsx)(b.ZP,{style:{width:"100%"},type:"primary",htmlType:"submit",children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})]})]})})})},B=r(1243),G=function(){var e=(0,g.Z)((0,m.Z)().mark((function e(n){var r,t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.Z.get("/zvit/one_month_total",{params:n});case 3:return r=e.sent,t=r.data,console.log("choesData:",n),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.error("\u274c Error:",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),_=f.Z.RangePicker,A=function(){var e=C()(),n=(0,d.useState)("oneDay"),r=(0,j.Z)(n,2),t=r[0],i=r[1],a=(0,d.useState)(null),s=(0,j.Z)(a,2),l=s[0],o=s[1],c=(0,d.useState)((new Date).toISOString().split("T")[0]),x=(0,j.Z)(c,2),u=x[0],h=x[1],p=(0,d.useState)(!1),f=(0,j.Z)(p,2),b=f[0],y=f[1];var D=function(){var e=(0,g.Z)((0,m.Z)().mark((function e(n){var r,t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,G(n);case 5:r=e.sent,t=r.totalData,console.log("\u2705 totalProfit:",t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("\u274c Error fetching total profit:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(F,{children:[(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:10},children:[(0,M.jsx)(w,{children:"\u0424\u0456\u043d\u0430\u043d\u0441\u043e\u0432\u0456 \u043f\u043e\u043a\u0430\u0437\u043d\u0438\u043a\u0438:"}),(0,M.jsx)(_,{defaultValue:[e,e],onChange:function(e,n){if(e&&0!==e.length){h(n[0]);var r=new Date(e[0].toDate()),t=new Date(e[1].toDate());r.setUTCHours(0,0,0,0),t.setUTCHours(23,59,59,999);var a=r.getUTCFullYear()===t.getUTCFullYear()&&r.getUTCMonth()===t.getUTCMonth()&&r.getUTCDate()===t.getUTCDate(),s={startDate:r.toISOString(),endDate:t.toISOString()};o(s),i(a?"oneDay":"period")}}}),(0,M.jsx)(k,{onClick:function(){return D(l)},disabled:"period"===t,children:"period"===t?(0,M.jsxs)(M.Fragment,{children:["\u0414\u043e\u0445\u043e\u0434\u0438 \u0437\u0430 \u0434\u0435\u043d\u044c ",(0,M.jsx)(Z.iE3,{})]}):(0,M.jsxs)(M.Fragment,{children:["\u0414\u043e\u0445\u043e\u0434\u0438 \u0437\u0430 \u0434\u0435\u043d\u044c ",(0,M.jsx)(v.U2w,{})]})}),(0,M.jsx)(k,{disabled:"period"===t,children:"period"===t?(0,M.jsxs)(M.Fragment,{children:["\u0417\u0432\u0456\u0442 \u0437\u0430 \u0434\u0435\u043d\u044c ",(0,M.jsx)(Z.iE3,{})]}):(0,M.jsxs)(M.Fragment,{children:["\u0417\u0432\u0456\u0442 \u0437\u0430 \u0434\u0435\u043d\u044c ",(0,M.jsx)(v.lqg,{})]})}),(0,M.jsx)(k,{onClick:function(){return D(l)},disabled:"oneDay"===t,children:"period"===t?(0,M.jsxs)(M.Fragment,{children:["\u0414\u043e\u0445\u043e\u0434\u0438 \u0437\u0430 \u043f\u0435\u0440\u0456\u043e\u0434 ",(0,M.jsx)(v.U2w,{})]}):(0,M.jsxs)(M.Fragment,{children:["\u0414\u043e\u0445\u043e\u0434\u0438 \u0437\u0430 \u043f\u0435\u0440\u0456\u043e\u0434 ",(0,M.jsx)(Z.iE3,{})]})}),(0,M.jsx)(k,{disabled:"oneDay"===t,children:"period"===t?(0,M.jsxs)(M.Fragment,{children:["\u0417\u0432\u0456\u0442 \u0437\u0430 \u043f\u0435\u0440\u0456\u043e\u0434 ",(0,M.jsx)(v.lqg,{})]}):(0,M.jsxs)(M.Fragment,{children:["\u0417\u0432\u0456\u0442 \u0437\u0430 \u043f\u0435\u0440\u0456\u043e\u0434",(0,M.jsx)(Z.iE3,{})]})})]}),(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:10,marginTop:35},children:[(0,M.jsx)(w,{children:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430 \u0432\u0447\u0438\u0442\u0435\u043b\u0456\u0432:"}),(0,M.jsx)(k,{disabled:"period"===t,children:"period"===t?(0,M.jsx)(Z.iE3,{}):(0,M.jsxs)(M.Fragment,{children:["\u0414\u0435\u043d\u044c ",(0,M.jsx)(v.dTH,{})]})}),(0,M.jsx)(k,{disabled:"oneDay"===t,children:"period"===t?(0,M.jsxs)(M.Fragment,{children:["\u041f\u0435\u0440\u0456\u043e\u0434 ",(0,M.jsx)(v.dTH,{})]}):(0,M.jsxs)(M.Fragment,{children:["\u041f\u0435\u0440\u0456\u043e\u0434 ",(0,M.jsx)(Z.iE3,{})]})})]}),(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:10,marginTop:35},children:[(0,M.jsx)(w,{children:"\u0406\u043d\u0448\u0456 \u043f\u043b\u0430\u0442\u0435\u0436\u0438:"}),(0,M.jsx)(k,{onClick:function(){return y(!0)},disabled:"period"===t,children:"period"===t?(0,M.jsxs)(M.Fragment,{children:["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0435\u043d\u044c ",(0,M.jsx)(Z.iE3,{})]}):(0,M.jsxs)(M.Fragment,{children:["\u0414\u043e\u0434\u0430\u0439 \u0432\u0438\u0442\u0440\u0430\u0442\u0438 ",(0,M.jsx)(v.j4y,{})]})}),(0,M.jsx)(k,{htmlType:"button",disabled:"period"===t,children:"period"===t?(0,M.jsxs)(M.Fragment,{children:["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0435\u043d\u044c ",(0,M.jsx)(Z.iE3,{})]}):(0,M.jsxs)(M.Fragment,{children:["\u0412\u043d\u0435\u0441\u0438 \u0434\u043e\u0445\u0456\u0434 ",(0,M.jsx)(v.dTH,{})]})}),(0,M.jsx)(Y,{onCloseDrawerExpense:function(){y(!1)},open:b,selectedPeriod:u})]})]})})},J=r(7095),K=function(){return(0,M.jsx)(J.Z,{children:(0,M.jsxs)(h,{children:[(0,M.jsx)(A,{}),(0,M.jsx)(p,{children:"\u041a\u043e\u043d\u0442\u0435\u043d\u0442"})]})})}},6629:function(e,n,r){r.r(n);var t=r(4695),i=r(184);n.default=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t.Z,{})})}}}]);
//# sourceMappingURL=629.d3c98681.chunk.js.map